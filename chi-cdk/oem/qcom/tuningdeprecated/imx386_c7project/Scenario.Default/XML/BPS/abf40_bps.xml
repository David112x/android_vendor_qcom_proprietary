<?xml version="1.0" encoding="utf-8" ?>
<!--
========================================================================
   Copyright(c) 2018 Qualcomm Technologies, Inc.
   All Rights Reserved.
   Confidential and Proprietary - Qualcomm Technologies, Inc.
========================================================================
-->
<abf40_bps
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="..\..\..\..\..\..\..\api\chromatix\XSD\isp\abf_4_0_0.xsd">
  <enable_section>
    <bilateral_en description="enable bilateral filtering, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</bilateral_en>
    <minmax_en description="enable built-in min-max pixel filter, tier  1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="if BPC module is on, this feature is likely off">0</minmax_en>
    <dirsmth_en description="enable Directional Smoothing filter, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</dirsmth_en>
  </enable_section>
  <module_version major_revision="4" minor_revision="0" incr_revision="0"/>
  <parameter_version>
    <revision>0</revision>
  </parameter_version>
  <control_variables>
    <control_var_type>control_drc_gain</control_var_type>
    <control_var_type>control_aec_exp_sensitivity_ratio</control_var_type>
    <control_var_type>control_gain</control_var_type>
  </control_variables>
  <control_method>
    <aec_exp_control>control_gain</aec_exp_control>
    <aec_hdr_control>control_aec_exp_sensitivity_ratio</aec_hdr_control>
  </control_method>
  <dynamic_enable_triggers>
    <bilateral_en>
      <enable description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</enable>
      <hyst_control_var description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">control_gain</hyst_control_var>
      <hyst_mode>UPWARD</hyst_mode>
      <hyst_trigger>
        <start1>1</start1>
        <end1>900</end1>
        <start2>1</start2>
        <end2>600</end2>
      </hyst_trigger>
    </bilateral_en>
  </dynamic_enable_triggers>
  <chromatix_abf40_reserve>
    <cross_plane_en description="enable Gr/Gb cross processing in bilateral filtering" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</cross_plane_en>
    <dark_desat_en description="enable dark desaturation feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_desat_en>
    <dark_smooth_en description="enable dark area smoothing feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_smooth_en>
    <act_adj_en description="enable activity based adjustment feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="It is effective only when both bilateral_en and dirsmth_en are set to 1">0</act_adj_en>
    <blk_opt description="block matching pattern for R/B" range="[0,2]" bit_depth="2uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</blk_opt>
    <radial_anchor_tab description="anchor tables from center to frame boundary" range="[0.0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="rnr_anchor[0] is 0 by default. normally rnr_anchor[4] is 1.0.">
      <radial_anchor>0 0.2984128 0.5322752 0.7661376 1</radial_anchor>
    </radial_anchor_tab>
  </chromatix_abf40_reserve>
  <chromatix_abf40_core>
    <mod_abf40_drc_gain_data>
      <drc_gain_trigger>
        <start>1</start>
        <end>100</end>
      </drc_gain_trigger>
      <drc_gain_data>
        <mod_abf40_hdr_aec_data>
          <hdr_aec_trigger>
            <exp_time_start>1</exp_time_start>
            <exp_time_end>64</exp_time_end>
            <aec_sensitivity_start>1</aec_sensitivity_start>
            <aec_sensitivity_end>64</aec_sensitivity_end>
            <exp_gain_start>1</exp_gain_start>
            <exp_gain_end>64</exp_gain_end>
          </hdr_aec_trigger>
          <hdr_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>270</lux_idx_start>
                <lux_idx_end>280</lux_idx_end>
                <gain_start>1.4</gain_start>
                <gain_end>1.8</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 8.124039 11.48913 14.03567 16.21728 18.13836 19.87461 21.44761 22.93469 24.33105 25.65151 26.88866 28.08914 29.24038 30.34798 31.40064 32.43455 33.43651 34.4093 35.34119 36.26293 37.16181 38.03945 38.88445 39.72405 40.54627 41.35215 42.13075 42.90688 43.66921 44.41846 45.14421 45.86938 46.58326 47.28636 47.96874 48.65182 49.32545 49.99 50.63596 51.28353 51.92302 52.55473 53.17894 53.78662 54.39669 55 55.59676 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829 56.17829</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>290</lux_idx_start>
                <lux_idx_end>295</lux_idx_end>
                <gain_start>2.9</gain_start>
                <gain_end>3.5</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 10.14889 14.3527 17.5784 20.3224 22.71563 24.87971 26.87006 28.72281 30.46309 32.10919 33.67492 35.18522 36.61967 38 39.33192 40.62019 41.86884 43.08132 44.27189 45.42026 46.54031 47.63402 48.70318 49.74937 50.77401 51.78803 52.7731 53.74012 54.69004 55.62374 56.54202 57.44563 58.33524 59.21993 60.08327 60.93439 61.77378 62.60192 63.41924 64.22617 65.03076 65.81793 66.59579 67.36468 68.12489 68.8767 69.6204 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624 70.35624</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>320</lux_idx_start>
                <lux_idx_end>330</lux_idx_end>
                <gain_start>5</gain_start>
                <gain_end>6</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 11.95826 16.91154 20.71231 23.89561 26.72078 29.27456 31.62278 33.80828 35.86084 37.78889 39.63584 41.40048 43.09292 44.72136 46.29255 47.81213 49.27474 50.70503 52.09607 53.45091 54.77225 56.06247 57.31492 58.54913 59.75784 60.9426 62.10475 63.24555 64.36614 65.45992 66.54322 67.60917 68.65858 69.69218 70.71068 71.71471 72.69801 73.67496 74.63913 75.591 76.53104 77.45966 78.37091 79.27799 80.17481 81.06171 81.939 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701 82.80701</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>340</lux_idx_start>
                <lux_idx_end>350</lux_idx_end>
                <gain_start>8</gain_start>
                <gain_end>9.5</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 13.45362 19.0263 23.30236 26.90725 30.08322 32.95451 35.59494 38.0526 40.36087 42.54409 44.62062 46.60472 48.50773 50.33885 52.10566 53.8145 55.47071 57.07013 58.63446 60.15813 61.64414 63.09517 64.51357 65.90144 67.26069 68.593 69.89993 71.18286 72.44308 73.68175 74.89993 76.09862 77.27872 78.44106 79.58643 80.71555 81.82909 82.92768 84.0119 85.08231 86.13942 87.18372 88.21564 89.23564 90.24411 91.24144 92.22798 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408 93.20408</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>360</lux_idx_start>
                <lux_idx_end>370</lux_idx_end>
                <gain_start>15.5</gain_start>
                <gain_end>22</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 12.56981 17.77639 21.77154 25.13961 28.08914 30.77337 33.24154 35.53871 37.69616 39.73663 41.67733 43.5316 45.29901 47.01064 48.6621 50.25933 51.80733 53.31041 54.77225 56.19609 57.58472 58.93216 60.25778 61.55486 62.82515 64.07027 65.29166 66.4906 67.66831 68.82587 69.95713 71.07742 72.18033 73.26664 74.33707 75.39231 76.43298 77.45966 78.46655 79.46697 80.45496 81.43095 82.39539 83.34866 84.29116 85.22324 86.14523 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171 87.05171</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>390</lux_idx_start>
                <lux_idx_end>400</lux_idx_end>
                <gain_start>26</gain_start>
                <gain_end>32</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 12.8841 18.22087 22.2935 25.74879 28.79236 31.54362 34.07345 36.41428 38.62642 40.71855 42.70831 44.60942 46.42198 48.17676 49.86983 51.50728 53.09426 54.63515 56.12486 57.58472 59.00847 60.39867 61.75759 63.07932 64.38168 65.6582 66.91039 68.13956 69.33974 70.52659 71.69379 72.84229 73.97297 75.07996 76.17742 77.2593 78.32624 79.37884 80.41145 81.4371 82.44998 83.45058 84.43933 85.41077 86.37708 87.3327 88.27797 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323 89.21323</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
          </hdr_aec_data>
        </mod_abf40_hdr_aec_data>
      </drc_gain_data>
    </mod_abf40_drc_gain_data>
  </chromatix_abf40_core>
</abf40_bps>
