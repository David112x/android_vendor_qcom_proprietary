<?xml version="1.0" encoding="utf-8" ?>
<!--
========================================================================
   Copyright(c) 2018 Qualcomm Technologies, Inc.
   All Rights Reserved.
   Confidential and Proprietary - Qualcomm Technologies, Inc.
========================================================================
-->
<abf40_bps
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="..\..\..\..\..\..\..\api\chromatix\XSD\isp\abf_4_0_0.xsd">
  <enable_section>
    <bilateral_en description="enable bilateral filtering, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</bilateral_en>
    <minmax_en description="enable built-in min-max pixel filter, tier  1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="if BPC module is on, this feature is likely off">0</minmax_en>
    <dirsmth_en description="enable Directional Smoothing filter, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</dirsmth_en>
  </enable_section>
  <module_version major_revision="4" minor_revision="0" incr_revision="0"/>
  <parameter_version>
    <revision>0</revision>
  </parameter_version>
  <control_variables>
    <control_var_type>control_drc_gain</control_var_type>
    <control_var_type>control_aec_exp_sensitivity_ratio</control_var_type>
    <control_var_type>control_gain</control_var_type>
  </control_variables>
  <control_method>
    <aec_exp_control>control_gain</aec_exp_control>
    <aec_hdr_control>control_aec_exp_sensitivity_ratio</aec_hdr_control>
  </control_method>
  <dynamic_enable_triggers>
    <bilateral_en>
      <enable description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</enable>
      <hyst_control_var description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">control_gain</hyst_control_var>
      <hyst_mode>UPWARD</hyst_mode>
      <hyst_trigger>
        <start1>1</start1>
        <end1>900</end1>
        <start2>1</start2>
        <end2>600</end2>
      </hyst_trigger>
    </bilateral_en>
  </dynamic_enable_triggers>
  <chromatix_abf40_reserve>
    <cross_plane_en description="enable Gr/Gb cross processing in bilateral filtering" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</cross_plane_en>
    <dark_desat_en description="enable dark desaturation feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_desat_en>
    <dark_smooth_en description="enable dark area smoothing feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_smooth_en>
    <act_adj_en description="enable activity based adjustment feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="It is effective only when both bilateral_en and dirsmth_en are set to 1">0</act_adj_en>
    <blk_opt description="block matching pattern for R/B" range="[0,2]" bit_depth="2uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</blk_opt>
    <radial_anchor_tab description="anchor tables from center to frame boundary" range="[0.0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="rnr_anchor[0] is 0 by default. normally rnr_anchor[4] is 1.0.">
      <radial_anchor>0 0.4 0.6 0.8 1</radial_anchor>
    </radial_anchor_tab>
  </chromatix_abf40_reserve>
  <chromatix_abf40_core>
    <mod_abf40_drc_gain_data>
      <drc_gain_trigger>
        <start>1</start>
        <end>100</end>
      </drc_gain_trigger>
      <drc_gain_data>
        <mod_abf40_hdr_aec_data>
          <hdr_aec_trigger>
            <exp_time_start>1</exp_time_start>
            <exp_time_end>64</exp_time_end>
            <aec_sensitivity_start>1</aec_sensitivity_start>
            <aec_sensitivity_end>64</aec_sensitivity_end>
            <exp_gain_start>1</exp_gain_start>
            <exp_gain_end>64</exp_gain_end>
          </hdr_aec_trigger>
          <hdr_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>270</lux_idx_start>
                <lux_idx_end>280</lux_idx_end>
                <gain_start>1</gain_start>
                <gain_end>1.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4 5.656854 7 8.062258 9 9.848858 10.63015 11.40175 12.08305 12.72792 13.34166 13.92839 14.52584 15.06652 15.58846 16.09348 16.58312 17.05872 17.54993 18 18.43909 18.86796 19.2873 19.72308 20.12461 20.51828 20.90454 21.2838 21.67948 22.04541 22.40536 22.75961 23.10844 23.47339 23.81176 24.14539 24.47448 24.79919 25.13961 25.45584 25.7682 26.07681 26.38181 26.68333 27 27.29469 27.58623 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472 27.87472</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>1 1 1 1</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.3 0.3 0.3 0.3</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>290</lux_idx_start>
                <lux_idx_end>295</lux_idx_end>
                <gain_start>1.9</gain_start>
                <gain_end>2.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 5.567764 7.81025 9.591663 11.09054 12.40967 13.56466 14.66288 15.68439 16.64332 17.52142 18.38478 19.20937 19.97499 20.73644 21.47091 22.18107 22.84732 23.51595 24.16609 24.79919 25.39685 26 26.58947 27.14774 27.71281 28.26659 28.80972 29.32576 29.84962 30.36445 30.8545 31.35283 31.84337 32.32646 32.78719 33.25658 33.71943 34.17601 34.61214 35.05709 35.49648 35.91657 36.34556 36.76955 37.18871 37.58989 38 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573 38.40573</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>1.3 1.3 1.3 1.3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.5 0.5 0.5 0.5</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>320</lux_idx_start>
                <lux_idx_end>330</lux_idx_end>
                <gain_start>3.9</gain_start>
                <gain_end>4.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 7.615773 10.72381 13.15295 15.19868 16.97056 18.60108 20.09975 21.49418 22.78157 24.02082 25.19921 26.30589 27.38613 28.42534 29.41088 30.38091 31.32092 32.23352 33.10589 33.97058 34.81379 35.62303 36.42801 37.21559 37.97367 38.72983 39.47151 40.1995 40.90232 41.60529 42.29657 42.9651 43.63485 44.29447 44.93328 45.57412 46.20606 46.82948 47.43417 48.04165 48.64154 49.22398 49.80964 50.38849 50.95096 51.51699 52.07687 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079 52.63079</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>2 2 2 2</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.6 0.6 0.6 0.6</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4 0.4</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>340</lux_idx_start>
                <lux_idx_end>350</lux_idx_end>
                <gain_start>7.9</gain_start>
                <gain_end>8.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 9.433981 13.34166 16.34014 18.86796 21.09502 23.10844 24.93993 26.66458 28.28427 29.8161 31.27299 32.66497 34 35.28456 36.52396 37.72267 38.88445 40.0125 41.10961 42.16634 43.20879 44.22669 45.22168 46.19524 47.1487 48.08326 49 49.8999 50.78386 51.65269 52.50714 53.34792 54.16641 54.98182 55.7853 56.57738 57.35852 58.12917 58.88973 59.64059 60.38212 61.11465 61.8385 62.55398 63.26136 63.95311 64.64519 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993 65.32993</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.7 0.7 0.7 0.7</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.3 0.3 0.3 0.3 0.3 0.3 0.3 0.3 0.3 0.3</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>360</lux_idx_start>
                <lux_idx_end>370</lux_idx_end>
                <gain_start>15.9</gain_start>
                <gain_end>16.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 13 18.38478 22.51666 26 29.06888 31.84337 34.39477 36.76955 39 41.10961 43.11612 45.03332 46.87217 48.64154 50.34879 52 53.60037 55.15433 56.66569 58.13777 59.57348 60.97541 62.34581 63.69458 65.00769 66.2948 67.55738 68.7968 70.01428 71.21095 72.38785 73.54591 74.68601 75.80897 76.91553 78.00641 79.08224 80.14362 81.19113 82.2253 83.24662 84.25556 85.25256 86.23804 87.21239 88.17596 89.12912 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722 90.0722</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.8 0.8 0.8 0.8</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>390</lux_idx_start>
                <lux_idx_end>400</lux_idx_end>
                <gain_start>32</gain_start>
                <gain_end>64</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0,4]" bit_depth="3uQ0" length="2" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0,511.0]" bit_depth="0uQ0" length="65" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 36.57868 51.73007 63.35614 73.15736 81.79242 89.59911 96.7781 103.4601 109.736 115.672 121.3178 126.7123 131.8863 136.8649 141.6686 146.3147 150.8178 155.1902 159.4428 163.5848 167.6246 171.5692 175.4252 179.1982 182.8934 186.5154 190.0684 193.5562 196.9822 200.3497 203.6615 206.9203 210.1285 213.2885 216.4024 219.4721 222.4994 225.4861 228.4338 231.3439 234.2178 237.057 239.8625 242.6355 245.3773 248.0887 250.7708 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245 253.4245</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0,127]" bit_depth="7uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] - 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0, 3uQ0, 2uQ0, 2uQ0" length="18" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0,1.0]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>0.9 0.9 0.9 0.9</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0,1.0]" bit_depth="0uQ0" length="10" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2 0.2</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral" range="[1.0,15.99]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust" range="[0,256]" bit_depth="9uQ0" length="32" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[1,8191]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1,4095]" bit_depth="13uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0,255]" bit_depth="8uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0,4095]" bit_depth="12uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0,256]" bit_depth="9uQ0" length="42" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0,15]" bit_depth="4uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0,16]" bit_depth="7uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0,63.99]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0,1.0]" bit_depth="0uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0,15.99]" bit_depth="0uQ0" length="4" conversion="no conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
          </hdr_aec_data>
        </mod_abf40_hdr_aec_data>
      </drc_gain_data>
    </mod_abf40_drc_gain_data>
  </chromatix_abf40_core>
</abf40_bps>
