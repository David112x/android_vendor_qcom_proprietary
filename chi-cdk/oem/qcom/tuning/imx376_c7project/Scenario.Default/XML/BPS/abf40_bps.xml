<?xml version="1.0" encoding="utf-8" ?>
<!--
========================================================================
   Copyright(c) 2018 Qualcomm Technologies, Inc.
   All Rights Reserved.
   Confidential and Proprietary - Qualcomm Technologies, Inc.
========================================================================
-->
<abf40_bps
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="..\..\..\..\..\..\..\api\chromatix\XSD\isp\abf_4_0_0.xsd">
  <enable_section>
    <bilateral_en description="enable bilateral filtering, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</bilateral_en>
    <minmax_en description="enable built-in min-max pixel filter, tier  1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="if BPC module is on, this feature is likely off">0</minmax_en>
    <dirsmth_en description="enable Directional Smoothing filter, tier 1 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</dirsmth_en>
  </enable_section>
  <module_version major_revision="4" minor_revision="0" incr_revision="0"/>
  <parameter_version>
    <revision>0</revision>
  </parameter_version>
  <control_variables>
    <control_var_type>control_drc_gain</control_var_type>
    <control_var_type>control_aec_exp_sensitivity_ratio</control_var_type>
    <control_var_type>control_gain</control_var_type>
  </control_variables>
  <control_method>
    <aec_exp_control>control_gain</aec_exp_control>
    <aec_hdr_control>control_aec_exp_sensitivity_ratio</aec_hdr_control>
  </control_method>
  <dynamic_enable_triggers>
    <bilateral_en>
      <enable description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</enable>
      <hyst_control_var description="enable ABF4.0 module" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">control_gain</hyst_control_var>
      <hyst_mode>UPWARD</hyst_mode>
      <hyst_trigger>
        <start1>1</start1>
        <end1>900</end1>
        <start2>1</start2>
        <end2>600</end2>
      </hyst_trigger>
    </bilateral_en>
  </dynamic_enable_triggers>
  <chromatix_abf40_reserve>
    <cross_plane_en description="enable Gr/Gb cross processing in bilateral filtering" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</cross_plane_en>
    <dark_desat_en description="enable dark desaturation feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_desat_en>
    <dark_smooth_en description="enable dark area smoothing feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_smooth_en>
    <act_adj_en description="enable activity based adjustment feature, tier 2 enable" range="[0,1]" bit_depth="1uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="It is effective only when both bilateral_en and dirsmth_en are set to 1">0</act_adj_en>
    <blk_opt description="block matching pattern for R/B" range="[0,2]" bit_depth="2uQ0" length="1" conversion="no conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</blk_opt>
    <radial_anchor_tab description="anchor tables from center to frame boundary" range="[0.0,1.0]" bit_depth="0uQ0" length="5" conversion="no conversion needed" tuning_parameter_level="must_tune" additional_notes="rnr_anchor[0] is 0 by default. normally rnr_anchor[4] is 1.0.">
      <radial_anchor>0 0.4 0.6 0.8 1</radial_anchor>
    </radial_anchor_tab>
  </chromatix_abf40_reserve>
  <chromatix_abf40_core>
    <mod_abf40_drc_gain_data>
      <drc_gain_trigger>
        <start>1</start>
        <end>100</end>
      </drc_gain_trigger>
      <drc_gain_data>
        <mod_abf40_hdr_aec_data>
          <hdr_aec_trigger>
            <exp_time_start>1</exp_time_start>
            <exp_time_end>64</exp_time_end>
            <aec_sensitivity_start>1</aec_sensitivity_start>
            <aec_sensitivity_end>64</aec_sensitivity_end>
          </hdr_aec_trigger>
          <hdr_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>270</lux_idx_start>
                <lux_idx_end>280</lux_idx_end>
                <gain_start>1</gain_start>
                <gain_end>1.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 3.316625 4.795832 5.830952 6.708204 7.549834 8.246211 8.888194 9.539392 10.0995 10.63015 11.18034 11.6619 12.12436 12.60952 13.0384 13.45362 13.89244 14.28286 14.66288 15.06652 15.42725 15.77973 16.15549 16.49242 16.8226 17.17556 17.49286 17.80449 18.13836 18.43909 18.76166 19.05256 19.33908 19.64688 19.92486 20.19901 20.4939 20.76054 21.0238 21.30728 21.56386 21.81742 22.09072 22.33831 22.58318 22.84732 23.08679 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381 23.32381</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>290</lux_idx_start>
                <lux_idx_end>295</lux_idx_end>
                <gain_start>3.9</gain_start>
                <gain_end>4</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.123106 5.830952 7.141428 8.246211 9.219544 10.14889 10.95445 11.7047 12.40967 13.0767 13.71131 14.31782 14.89966 15.45963 16 16.55295 17.05872 17.54993 18.02776 18.49324 18.9473 19.39072 19.82423 20.24846 20.66398 21.09502 21.49418 21.88607 22.27106 22.6495 23.02173 23.38803 23.74868 24.10394 24.45404 24.81935 25.15949 25.4951 25.82634 26.15339 26.4764 26.79552 27.11088 27.42262 27.73085 28.03569 28.35489 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531 28.6531</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>320</lux_idx_start>
                <lux_idx_end>330</lux_idx_end>
                <gain_start>7.9</gain_start>
                <gain_end>8</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.358899 6.164414 7.549834 8.717798 9.746795 10.67708 11.53256 12.28821 13.0384 13.74773 14.4222 15.06652 15.68439 16.27882 16.8523 17.40689 17.94436 18.46618 18.97367 19.46792 19.94994 20.39608 20.85665 21.30728 21.74856 22.18107 22.60531 23.02173 23.43075 23.83275 24.22808 24.61707 25 25.37716 25.74879 26.09598 26.45751 26.81417 27.16615 27.51363 27.85678 28.19574 28.53069 28.86174 29.18904 29.51271 29.83287 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963 30.14963</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>360</lux_idx_start>
                <lux_idx_end>370</lux_idx_end>
                <gain_start>15.9</gain_start>
                <gain_end>16</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.472136 6.324555 7.745967 8.944272 10 10.95445 11.83216 12.64911 13.41641 14.14214 14.8324 15.49193 16.12452 16.7332 17.32051 17.88854 18.43909 18.97367 19.49359 20 20.4939 20.97618 21.44761 21.9089 22.36068 22.82542 23.25941 23.68544 24.10394 24.5153 24.91987 25.31798 25.70992 26.09598 26.4764 26.85144 27.22132 27.58623 27.94638 28.30194 28.6531 29 29.3428 29.68164 30.01666 30.34798 30.67572 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>1</lux_idx_start>
                <lux_idx_end>900</lux_idx_end>
                <gain_start>31.9</gain_start>
                <gain_end>32</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">3</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">3</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.358899 6.164414 7.549834 8.774964 9.797959 10.72381 11.57584 12.36932 13.11488 13.82028 14.52584 15.16575 15.77973 16.3707 16.94107 17.49286 18.02776 18.54724 19.07878 19.57038 20.04994 20.51828 20.97618 21.42429 21.86321 22.31591 22.73763 23.15167 23.55844 23.9583 24.35159 24.73863 25.13961 25.5147 25.88436 26.24881 26.60827 26.96294 27.313 27.65863 28.01785 28.35489 28.68798 29.01724 29.3428 29.66479 29.98333 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501 30.31501</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.0625 0.125 0.8 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6 0.6</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">2048</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">1</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">128</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">192</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">32</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">8</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">4</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">1</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0.5</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>1 1 1 1</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>390</lux_idx_start>
                <lux_idx_end>400</lux_idx_end>
                <gain_start>63.9</gain_start>
                <gain_end>64</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.24264 6.082763 7.416198 8.602325 9.591663 10.48809 11.35782 12.12436 12.84523 13.56466 14.21267 14.86607 15.45963 16.03122 16.61325 17.14643 17.69181 18.19341 18.68154 19.18333 19.64688 20.12461 20.56696 21 21.44761 21.86321 22.27106 22.69361 23.08679 23.49468 23.87467 24.24871 24.63737 25 25.37716 25.72936 26.07681 26.43861 26.77686 27.11088 27.45906 27.78489 28.12472 28.44292 28.75761 29.08608 29.39388 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532 29.71532</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
          </hdr_aec_data>
        </mod_abf40_hdr_aec_data>
      </drc_gain_data>
    </mod_abf40_drc_gain_data>
  </chromatix_abf40_core>
</abf40_bps>
