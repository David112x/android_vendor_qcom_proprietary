////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2019-2020 Qualcomm Technologies, Inc.
// All Rights Reserved.
// Confidential and Proprietary - Qualcomm Technologies, Inc.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @file   chiofflinepostprocintf.h
/// @brief  offline postproc interfaces defination
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef CHIOFFLINEPOSTPROCINTF_H
#define CHIOFFLINEPOSTPROCINTF_H

#include "chiofflinepostproctypes.h"

// NOWHINE FILE GR017: Used intrinsic data types as this header is exposed to non-camera components
// NOWHINE FILE NC010: Underscores added for names to support C clients

#ifdef __cplusplus
extern "C"
{
#endif // __cplusplus

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief Function pointers to create PostProc Instance.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef void* (*PFN_CameraPostProc_Create)(
    PostProcCreateParams* pParams);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief Function pointers to post process input stream.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef PostProcResultInfo (*PFN_CameraPostProc_Process)(
    void*                   pPostProcInstance,
    PostProcSessionParams*  pSessionParams);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief Function pointers to destroy Post Processor instance.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef void (*PFN_CameraPostProc_Destroy)(
    void* pPostProcInstance);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief Function pointers to release resources held by Post Processor instance.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef void (*PFN_CameraPostProc_ReleaseResources)(
    void* pPostProcInstance);


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  APIs
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// CameraPostProc_Create
///
/// @brief  Function to create the encoder instance
///
/// @param  pParams   CreateParams Ptr
///
/// @return Encoder Pointer
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CHXFORMAT_VISIBILITY_PUBLIC void* CameraPostProc_Create(
    PostProcCreateParams* pParams);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// CameraPostProc_Process
///
/// @brief  Function to encode the input and update output handle
///
/// @param  pPostProcInstance   Postproc instance that is created
/// @param  pSessionParams      Ptr to session params
///
/// @return PostProcResultInfo structure populated
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CHXFORMAT_VISIBILITY_PUBLIC PostProcResultInfo CameraPostProc_Process(
    void*                     pPostProcInstance,
    PostProcSessionParams*    pSessionParams);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// CameraPostProc_Destroy
///
/// @brief  Function to destroy the postproc instance
///
/// @param  pPostProcInstance  Postproc instance that is created
///
/// @return None
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CHXFORMAT_VISIBILITY_PUBLIC void CameraPostProc_Destroy(
    void* pPostProcInstance);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// CameraPostProc_ReleaseResources
///
/// @brief  Function to release the resources held by postproc instance
///
/// @param  pPostProcInstance  Postproc instance that is created
///
/// @return None
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CHXFORMAT_VISIBILITY_PUBLIC void CameraPostProc_ReleaseResources(
    void* pPostProcInstance);


#ifdef __cplusplus
}
#endif // __cplusplus

#endif // CHIOFFLINEPOSTPROCINTF_H
